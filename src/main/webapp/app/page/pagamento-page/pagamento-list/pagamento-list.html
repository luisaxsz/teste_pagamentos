<div class="d-flex justify-content-center mt-5">
  <div class="w-75 table-responsive">
    <div class="d-flex justify-content-between mb-3">
      <input
        type="text"
        class="form-control w-50"
        placeholder="Pesquisar..."
        [(ngModel)]="filtro"
        (input)="filtrarPagamentos()"
      />
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          Filtrar por Status
        </button>
        <ul class="dropdown-menu">
          @for (item of statusPagamentoDatasource; track item.id){
            <button class="dropdown-item" (click)="filtrarByStatus(item?.nome)">{{ item.nome }}</button>
          }
        </ul>
      </div>
      <button
        type="button"
        class="btn btn-outline-primary"
        (click)="irParaForm()"
      >
        Novo Pagamento
      </button>
    </div>
    <table class="table table-striped table-hover text-center align-middle">
      <thead>
      <tr >
        <th  scope="col">Identificação</th>
        <th scope="col">Método Pagamento</th>
        <th scope="col">Valor</th>
        <th scope="col">Status</th>
        <th scope="col">Ações</th>
      </tr>
      </thead>
      <tbody>
        @for (item of pagamentosDatasource; track item.id; let i = $index) {
          <tr>
            <td>{{ item.cpfCnpj }}</td>
            <td>{{ item.tipo }}</td>
            <td>{{ item.valor | currency:'BRL' }}</td>
            <td>
              <div
                class="badge rounded-pill"
                [ngClass]="{
                'text-bg-success':item?.status == 'Processado Sucesso',
                'text-bg-secondary':item?.status == 'Pendente Processamento',
                'text-bg-danger':item.status == 'Processado Falha'
              }"
              >
                {{ item.status }}
              </div>
            </td>
            <td>
              <div class="btn-group" role="group" aria-label="Basic outlined example">
                <button type="button" class="btn btn-outline-primary">Middle</button>
                <button type="button" class="btn btn-outline-primary">Right</button>
              </div>
            </td>
          </tr>
        }
      </tbody>
      <tfoot>
      <tr>
        <td colspan="5" class="bg-dark-subtle"></td>
      </tr>
      </tfoot>
    </table>


  </div>
</div>


<router-outlet></router-outlet>
